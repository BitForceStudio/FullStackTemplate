# Security

* copy the code from basics, including `\backend` and `\frontend`

## Add Security to Project

Like always, 3 steps

* Dependency
    * `implementation 'org.springframework.boot:spring-boot-starter-security'`
* Yaml configuration
    * null
* Implementation
    * Simple test:
    * create `UserManagerSecurityConfiguration.java` in `\configuration` directory

`UserManagerSecurityConfiguration.java`
```java
@EnableWebSecurity
public class UserManagerSecurityConfiguration extends WebSecurityConfigurerAdapter {

    @Bean
    PasswordEncoder passwordEncoder() {
        return new BCryptPasswordEncoder();
    }
    
    @Override
    protected void configure(HttpSecurity http) throws Exception {
        http.authorizeRequests().antMatchers("/user/**").hasRole("ADMIN");
        http.formLogin();
    }

    @Override
    protected void configure(AuthenticationManagerBuilder auth) throws Exception {
        auth.inMemoryAuthentication().withUser("admin").password(passwordEncoder().encode("admin")).roles("ADMIN");
    }
}
```

Open browser and goto `http://localhost:8002/user/get/abc/abc`, then it redirected to the login page autogenerated by Spring Security. Input username (admin) and password (admin) to check the implementation. 

## Add More Security Features

Now it is time to refect the security arch. We use JWT (Json Web Token) in this project

* All the request should have auth, so that we need an entry point for all the request
    * security -> AuthenticationEntry.java
* Provide auth to user
    * Retrive user from database
